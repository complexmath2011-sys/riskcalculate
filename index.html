<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Risk Calculator</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
    * {
    box-sizing: border-box;
}
body {
    font-family: Arial, sans-serif;
    background: #0f0f0f;
    color: #ffffff;
    padding: 20px;
}

h2 {
    text-align: center;
}

input, button {
    width: 100%;
    padding: 14px;
    margin-top: 12px;
    font-size: 17px;
    border-radius: 10px;
    border: none;
}

input {
    background: #1e1e1e;
    color: #fff;
}

button {
    background: #2ea6ff;
    color: #000;
    font-weight: bold;
}

.hidden {
    display: none;
}

.result {
    margin-top: 20px;
    background: #1e1e1e;
    padding: 15px;
    border-radius: 10px;
    font-size: 18px;
}
   .modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.modal-content {
    background: #1e1e1e;
    padding: 25px;
    border-radius: 15px;
    text-align: center;
    max-width: 80%;
    border: 1px solid #2ea6ff;
}

.modal-content button {
    margin-top: 20px;
    background: #2ea6ff;
    color: black;
    font-weight: bold;
    border-radius: 10px;
    padding: 12px 30px;
}
</style>
</head>

<body>

<h2>üßÆ –†–∞—Å—á—ë—Ç —Ä–∞–∑–º–µ—Ä–∞ —Å–¥–µ–ª–∫–∏</h2>

<!-- –®–ê–ì 1 -->
<div id="step1">
    <p>–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ USDT –Ω–∞ –æ–¥–Ω—É —Å–¥–µ–ª–∫—É</p>
    <p>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º —É–∫–∞–∑—ã–≤–∞—Ç—å —Å—É–º–º—É –Ω–µ –±–æ–ª–µ–µ 1-2% –æ—Ç –≤–∞—à–µ–≥–æ –¥–µ–ø–æ–∑–∏—Ç–∞.</p>
    <input id="riskMoney" type="number" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 10">
    <button onclick="nextStep()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
</div>

<!-- –®–ê–ì 2 -->
<div id="step2" class="hidden">
    <p>–í–≤–µ–¥–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –≤–∞—à–µ–≥–æ —Ä–∏—Å–∫–∞ (%)</p>
    <input id="riskPercent" type="number" step="0.01" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 1,5">
    <button onclick="calculate()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
</div>

<!-- –†–ï–ó–£–õ–¨–¢–ê–¢ -->
<div id="result" class="result hidden"></div>

<script>
 let riskMoney = 0;

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ—à–∏–±–æ–∫ –≤ –∫–∞—Å—Ç–æ–º–Ω–æ–º –æ–∫–Ω–µ
       function showError(message) {
    const modal = document.getElementById("errorModal");
    const text = document.getElementById("errorText");
    
    if (modal && text) {
        text.textContent = message;
        modal.classList.remove("hidden");
        
        // –ë–ª–æ–∫–∏—Ä—É–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É —Ñ–æ–Ω–∞
        document.body.style.overflow = 'hidden';
    }
}

function hideError() {
    const modal = document.getElementById("errorModal");
    if (modal) {
        modal.classList.add("hidden");
        document.body.style.overflow = ''; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É
    }
}

        function nextStep() {
            riskMoney = parseFloat(document.getElementById("riskMoney").value);

            if (!riskMoney || riskMoney <= 0) {
                showError("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É —Ä–∏—Å–∫–∞ (–±–æ–ª—å—à–µ 0)");
                return;
            }

            document.getElementById("step1").classList.add("hidden");
            document.getElementById("step2").classList.remove("hidden");
        }

        function calculate() {
            let riskPercent = parseFloat(document.getElementById("riskPercent").value);

            if (!riskPercent || riskPercent <= 0) {
                showError("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç —Ä–∏—Å–∫–∞ (–±–æ–ª—å—à–µ 0)");
                return;
            }

            // –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∞—Å—á—ë—Ç
            let dealSize = riskMoney / (riskPercent / 100);
            
            // –û–∫—Ä—É–≥–ª—è–µ–º –í–í–ï–†–• –¥–æ —á–∏—Å–µ–ª, –∫—Ä–∞—Ç–Ω—ã—Ö 5
            dealSize = Math.ceil(dealSize / 5) * 5;

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            document.getElementById("step2").classList.add("hidden");
            document.getElementById("result").classList.remove("hidden");

            document.getElementById("result").innerHTML = 
                "üì¶ <b>–†–∞–∑–º–µ—Ä —Å–¥–µ–ª–∫–∏:</b> " + Math.floor(dealSize) + " USDT<br><br>" +
                "‚ùå <b>–ú–∞–∫—Å. —É–±—ã—Ç–æ–∫:</b> " + riskMoney.toFixed(2) + " USDT<br>" +
                "‚ö†Ô∏è <b>–†–∏—Å–∫:</b> " + riskPercent.toFixed(2) + "%";
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        Telegram.WebApp.ready();
</script>
<div id="errorModal" class="modal hidden">
    <div class="modal-content">
        <p id="errorText"></p>
        <button onclick="hideError()">OK</button>
    </div>
</div>
</body>
</html>








